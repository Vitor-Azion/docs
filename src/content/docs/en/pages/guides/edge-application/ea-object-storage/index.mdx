---
title: How to create and manage an object storage with Azion
description: Learn how to create your buckets and upload, list, and delete files in your boject storage.
meta_tags: object storage, storage, cloud, s3, bucket, file storage
namespace: documentation_products_edge_application_object_storage
permalink: /documentation/products/guides/how-to-create-and-manage-object-storage/
---

## Create and modify bucket via API

1. POST /storage/buckets

name: ro-bucket
edge-access: read_only

This bucket cannot be modified, since it is in `read only` mode.

To create a bucket and upload files, you need to transform into a read_write bucket:

PATCH /storage/buckets/ro-bucket

name: rw-bucket 
edge-access: read_write

## Instantiate edge function for GET and POST requests

The next step is to create an edge application that will run an edge function to upload files to your bucket.

1. 
2. 
. In the **Args** tab, add the object with the `bucket` property
. Add as a value the name of the bucket as a string.

Example:

```json
{
  "bucket": "rw-bucket"
}
```

. In the **Code** tab, add the following Javascript code: 

```js
import Storage from "azion:storage";
async function doGet(path, bucket_name) {
    console.log(`path: ${path}`);
    const storage = new Storage(bucket_name);
    // content is an StorageObject
    const asset = await storage.get(path);
    return new Response(await asset.arrayBuffer(), {
        headers: {
            "Content-Type": asset.contentType
        },
    });
}

async function doPost(path, content_type, value, bucket_name) {
    console.log(`path: ${path}`);
    let options = {
        "content-type": content_type
    }
    console.log(`options: ${options}`);
    const storage = new Storage(bucket_name);
    await storage.put(path, value, options);
    return new Response("ok");
}

async function router(event) {
    const request = event.request;
    const method = request.method;
    const path = decodeURI(new URL(request.url).pathname);
    const bucket_name = event.args.bucket;
    if (method === "POST") {
        let content_type = request.headers.get("Content-Type");
        let content = await request.arrayBuffer();
        return doPost(path, content_type, content, bucket_name);
    } else if (method === "GET") {
        return doGet(path, bucket_name);
    } else {
        throw new Error(`Invalid method: ${method}. Expected POST or GET.`);
    }
}
addEventListener("fetch", (event) => {
    event.respondWith(
        router(event)
    );
});
```

:::note
See the [Object Storage API](/en/documentation/devtools/runtime/api-reference/storage/) reference for more details on functions available for other types of requests.
:::

